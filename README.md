## –°—Ç–µ–Ω–¥ @pk8.mskobr –ø–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏ 09.02.06 –°–µ—Ç–µ–≤–æ–µ –∏ —Å–∏—Å—Ç–µ–º–Ω–æ–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ 2024-2025 –≥–æ–¥

–ë–∞–∑–æ–≤—ã–π —Å—Ç–µ–Ω–¥ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –ø–æ —Å—Å—Å—ã–ª–∫–µ - https://disk.yandex.ru/d/Qfry02DM_LYcGA (–≤–ª–æ–∂–µ–Ω–Ω—ã–π –∞—Ö—Ä–∏–≤, –æ—Ç–∫—Ä—ã–≤–∞—Ç—å —á–µ—Ä–µ–∑ 7-ZIP) (–°—Ç–µ–Ω–¥ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ VMware Player, –≤–ª–æ–∂–µ–Ω–Ω–∞—è –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ ESXi). (–≤ —Å—Ç–µ–Ω–¥–µ –º–æ–≥—É—Ç –±—ã—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è)

–î–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å—Ç–µ–Ω–¥–∞ —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç PVE (https://disk.yandex.ru/d/uT7Z3o0uaSBpjg), –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è —Ç—É—Ç - https://itsliventsev.yonote.ru/share/548e46da-9cc5-41a8-9f77-0d4c7134ca73/doc/skript-dlya-avtorazvertyvaniya-stenda-de-2025-adm-na-pve-DT85xpRqXT

# –ú–æ–¥—É–ª—å 1 "–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ç–µ–≤–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã"

## –í–≤–æ–¥–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ –º–æ–¥—É–ª—é 1

#### –¢–æ–ø–æ–ª–æ–≥–∏—è —Å–µ—Ç–∏

![alt text](screens/image.png)

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Ä–µ—Å—É—Ä—Å–∞–º –∏ –≥–æ—Å—Ç–µ–≤—ã–º –û–°

![alt text](screens/image-1.png)

### –¢–∞–±–ª–∏—Ü–∞ –∏–º–µ–Ω

![alt text](screens/image-3.png)

## 1. –ü—Ä–æ–∏–∑–≤–µ–¥–∏—Ç–µ –±–∞–∑–æ–≤—É—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤

–î–ª—è –±–∞–∑–æ–≤–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –û–° –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–¥–∞—Ç—å –∏–º—è —Ö–æ—Å—Ç–∞ (hostname), IP-–∞–¥—Ä–µ—Å–∞ –Ω–∞ –í–°–ï —Å–µ—Ç–µ–≤—ã–µ –∞–¥–∞–ø—Ç–µ—Ä—ã, –ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–∞–∫–µ—Ç—ã. (–≤ –∑–∞–¥–∞–Ω–∏–∏ —É–∫–∞–∑–∞–Ω–æ IP-–∞–¥—Ä–µ—Å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∏–∑ –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞, –≤ —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ —Å–µ—Ç—å –ª–æ–∫–∞–ª—å–Ω–∞—è, —Å–æ–≥–ª–∞—Å–Ω–æ RFC1918*)

### –í—ã–¥–∞—á–∞ –∏–º–µ–Ω–∏ —Ö–æ—Å—Ç–∞ (hostname)

–ü–∏—à–µ–º –ø–æ–ª–Ω–æ–µ –∏–º—è —Ö–æ—Å—Ç–∞ - hq-rtr.au-team.irpo

mcedit /etc/hostname

![alt text](screens/nz8pamLPe1ZrVSJCbvAXUFH-roquW76zof9K1VzL_nS6dDjS0qSwbdv-F8syBbeG3ioFo86eBwaWCiQ1y3dFTdo1.jpg)

–ò–∑–º–µ–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–∞–π–ª–µ –Ω–∞ –∏–º—è –º–∞—à–∏–Ω—ã –ø–æ –∑–∞–¥–∞–Ω–∏—é

![alt text](screens/6CoifrrnG0jRMAXrQNzU9Lbo_dKR6hrf4UpTdEZiQUgOBWURnv3UlIWGNfxsMFgjcfUdrsB5rUirvIyG3ipZPB7_.jpg)

–°–æ—Ö—Ä–∞–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ (Esc)

![image](https://github.com/user-attachments/assets/9c0eef7b-c4c2-45d4-93c0-3d24f79517e6)

###  –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–ª–Ω–æ–µ –¥–æ–º–µ–Ω–Ω–æ–µ –∏–º—è

domainname au-team.irpo

![image](https://github.com/user-attachments/assets/612ba191-b871-4020-9163-8a9a0532e199)

*–ò–º–µ–Ω–∞ —Ö–æ—Å—Ç–æ–≤ –∏ —Ç.–ø.

![image](https://github.com/user-attachments/assets/b39c8276-5875-4f8d-9758-5e53fcc6cf94)

-------------------

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ IP-–∞–¥—Ä–µ—Å–æ–≤

–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö —Å–µ—Ç–µ–≤—ã—Ö –∞–¥–∞–ø—Ç–µ—Ä–æ–≤ –ø—Ä–æ–ø–∏—Å—ã–≤–∞–µ–º –Ω–∞ –í–ú –∫–æ–º–∞–Ω–¥—É - ip -c a

![alt text](screens/image-6.png)

–ï—Å–ª–∏ –Ω–∞ –í–ú –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç —Å–µ—Ç–µ–≤—ã—Ö –∞–¥–∞–ø—Ç–µ—Ä–æ–≤ –ø–æ —Å—Ö–µ–º–µ, —Ç–æ –¥–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–µ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –í–ú.

–ü—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π –ø–æ –æ–∫–Ω—É –í–ú –∏–ª–∏ –≤ —Å–ø–∏—Å–∫–µ –í–ú –∏ –æ—Ç–∫—Ä—ã–≤–∞–µ–º Edit Setings

![alt text](screens/image-7.png)

–í –º–µ–Ω—é –≤—ã–±–∏—Ä–∞–µ–º Add network adapter

![alt text](screens/image-8.png)

–î–∞–ª–µ–µ –ø—Ä–æ—Å—Ç–∞–≤–ª—è–µ–º —Å–µ—Ç–∏ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –∑–∞–¥–∞–Ω–∏–µ–º (—Å—Ö–µ–º–æ–π —Å–µ—Ç–∏)

![alt text](screens/image-9.png)

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ DNS –≤ —Å–µ—Ç–µ–≤—ã—Ö –∞–¥–∞–ø—Ç–µ—Ä–∞—Ö

*–¥–µ–ª–∞–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫—É –Ω–∞ –≤—Å–µ—Ö –º–∞—à–∏–Ω–∞—Ö –∫—Ä–æ–º–µ ISP

![image](https://github.com/user-attachments/assets/1ed51a91-2b84-4b80-9a10-92861184a729)

![image](https://github.com/user-attachments/assets/734de9aa-e1e1-4c0d-ab85-38116edd3ebc)

#### –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —Å–µ—Ç–µ–≤—ã–µ –∞–¥–∞–ø—Ç–µ—Ä—ã –¥–ª—è ISP

![alt text](screens/image-10.png)

#### –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —Å–µ—Ç–µ–≤—ã–µ –∞–¥–∞–ø—Ç–µ—Ä—ã –¥–ª—è BR-RTR

![alt text](screens/image-11.png)

#### –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —Å–µ—Ç–µ–≤—ã–µ –∞–¥–∞–ø—Ç–µ—Ä—ã –¥–ª—è BR-SRV

![alt text](screens/image-12.png)

#### –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —Å–µ—Ç–µ–≤—ã–µ –∞–¥–∞–ø—Ç–µ—Ä—ã –¥–ª—è CLI

![alt text](screens/image-13.png)

#### –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —Å–µ—Ç–µ–≤—ã–µ –∞–¥–∞–ø—Ç–µ—Ä—ã –¥–ª—è HQ-RTR

![alt text](screens/image-14.png)

#### –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —Å–µ—Ç–µ–≤—ã–µ –∞–¥–∞–ø—Ç–µ—Ä—ã –¥–ª—è BR-DC

![alt text](screens/image-15.png)

#### –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —Å–µ—Ç–µ–≤—ã–µ –∞–¥–∞–ø—Ç–µ—Ä—ã –¥–ª—è HQ-SRV

![alt text](screens/image-16.png)

--------------------

*RFC1918 - –º–µ–º–æ—Ä–∞–Ω–¥—É–º Internet Engineering Task Force (IETF) –æ –º–µ—Ç–æ–¥–∞—Ö –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è —á–∞—Å—Ç–Ω—ã—Ö IP-–∞–¥—Ä–µ—Å–æ–≤ –≤ —Å–µ—Ç—è—Ö TCP/IP.

| –ë–ª–æ–∫ –∞–¥—Ä–µ—Å–æ–≤      | –ú–∞–∫—Å.            |  –ü—Ä–µ—Ñ–∏–∫—Å—ã           |
| :-----------------| :--------:       | :-------------:     | 
| 10.0.0.0          | 10.255.255.255   | 10/8 prefix         | 
| 172.16.0.0        | 172.31.255.255   | 172.16/12 prefix    | 
| 192.168.0.0       | 192.168.255.255  | 192.168/16 prefix   |


#### –ü—Ä–∏–º–µ—Ä –≤–∞—Ä–∏–∞–Ω—Ç–∞ IP-–∞–¥—Ä–µ—Å–∞—Ü–∏–∏ (–ª—É—á—à–µ —Ç–∞–∫–∂–µ —Å–¥–µ–ª–∞—Ç—å –≤ –æ—Ç–¥–µ–ª—å–Ω–æ —Ñ–∞–π–ª–∏–∫–µ —É —Å–µ–±—è, —á—Ç–æ–±—ã –Ω–µ –ø—É—Ç–∞—Ç—å—Å—è)

![image](https://github.com/user-attachments/assets/33c33fc0-73b3-4070-88ca-f8b820e795d7)

#### –ü–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –∞–¥—Ä–µ—Å–∞—Ü–∏–∏ –Ω–∞ –í–ú –±–µ–∑ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

–°–æ–∑–¥–∞–µ–º –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –¥–ª—è –Ω–æ–≤—ã—Ö –∞–¥–∞–ø—Ç–µ—Ä–æ–≤, –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∞–¥–∞–ø—Ç–µ—Ä–æ–≤*

![alt text](screens/image-18.png)

*–Ω–∞–∑–≤–∞–Ω–∏—è –∞–¥–∞–ø—Ç–µ—Ä–æ–≤ —Å–º–æ—Ç—Ä–∏–º –≤ ip -c a

**–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è ens192 —É–∂–µ –ø—Ä–µ—Å–æ–∑–¥–∞–Ω–∞ –Ω–∞ –≤—Å–µ—Ö –º–∞—à–∏–Ω–∫–∞—Ö

–ö–æ–ø–∏—Ä—É–µ–º —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å–µ—Ç–µ–≤–æ–≥–æ –∞–¥–∞–ø—Ç–µ—Ä–∞ –ò–ó ENS192 –≤ –∫–∞–∂–¥—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é —Å–µ—Ç–µ–≤–æ–≥–æ –∞–¥–∞–ø—Ç–µ—Ä–∞

![alt text](screens/image-19.png)

#### –í—ã–¥–∞—á–∞ IP-–∞–¥—Ä–µ—Å–∞ –ø–æ DHCP

![alt text](screens/image-20.png)

![alt text](screens/image-21.png)

![alt text](screens/image-22.png)

![alt text](screens/image-23.png)

#### –í—ã–¥–∞—á–∞ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö –∞–¥—Ä–µ—Å–æ–≤

![alt text](screens/image-24.png)

![alt text](screens/image-25.png)

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —à–ª—é–∑–∞ –¥–ª—è —Å—Ç–∞—Ç–∏–∫–∏ (–ù–ê –í–°–ï–• –£–°–¢–†–û–ô–°–¢–í–ê–• - BR-RTR, HQ-RTR –Ω–∞ ISP, —Å–µ—Ç—å HQ - –Ω–∞ HR-RTR, —Å–µ—Ç—å BR - –Ω–∞ BR-RTR

![alt text](screens/image-27.png)

![alt text](screens/image-28.png)

–ß—Ç–æ–±—ã –æ–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ - –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–∏—Å —Å–µ—Ç–∏

![alt text](screens/image-26.png)

–í–∏–¥–∏–º –ø–æ –∏—Ç–æ–≥—É, —á—Ç–æ —Å–µ—Ç–µ–≤—ã–µ –∞–¥–∞–ø—Ç–µ—Ä—ã –æ–±–Ω–æ–≤–∏–ª–∏—Å—å –∏ –≤—ã–¥–∞–ª–∏—Å—å –∞–¥—Ä–µ—Å–∞

![alt text](screens/image-29.png)

–î–ª—è –ø—Ä–∏–º–µ–µ–Ω–∏—è –∏–º–µ–Ω–∏ —Ö–æ—Å—Ç–∞ - –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º –í–ú

![alt text](screens/image-30.png)

![alt text](screens/image-31.png)

-------------------

#### –ü—Ä–∏–º–µ—Ä –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è HQ-SRV

![alt text](screens/image-32.png)

#### –ü—Ä–∏–º–µ—Ä –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è BR-SRV

![alt text](screens/image-33.png)

#### –ü—Ä–∏–º–µ—Ä –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è HQ-RTR

![alt text](screens/image-34.png)

#### –ü—Ä–∏–º–µ—Ä –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è CLI

![alt text](screens/image-35.png)

#### –ü—Ä–∏–º–µ—Ä –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è BR-R

![alt text](screens/image-36.png)



![alt text](screens/image-37.png)

--------------------

## 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ ISP

–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–¥—Ä–µ—Å–∞—Ü–∏—é –Ω–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞—Ö: –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã–π –∫ –º–∞–≥–∏—Å—Ç—Ä–∞–ª—å–Ω–æ–º—É –ø—Ä–æ–≤–∞–π–¥–µ—Ä—É, 
–ø–æ–ª—É—á–∞–µ—Ç –∞–¥—Ä–µ—Å –ø–æ DHCP –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –º–∞—Ä—à—Ä—É—Ç—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ç–∞–º, –≥–¥–µ —ç—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –∫ –∫–æ—Ç–æ—Ä–æ–º—É –ø–æ–¥–∫–ª—é—á–µ–Ω HQ-RTR, –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ —Å–µ—Ç–∏ 
172.16.4.0/28 –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –∫ –∫–æ—Ç–æ—Ä–æ–º—É –ø–æ–¥–∫–ª—é—á–µ–Ω BR-RTR, –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ —Å–µ—Ç–∏ 
172.16.5.0/28 –ù–∞ ISP –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫—É—é —Å–µ—Ç–µ–≤—É—é —Ç—Ä–∞–Ω—Å–ª—è—Ü–∏—é –≤ —Å—Ç–æ—Ä–æ–Ω—É HQ-RTR –∏ BR-RTR –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–µ—Ç–∏ –ò–Ω—Ç–µ—Ä–Ω–µ—Ç

apt-get update - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤

![alt text](screens/image-38.png)

–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–∞ FRR - –¥–ª—è —Ä–∞–±–æ—Ç—ã –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ - apt-get install frr

![alt text](screens/image-39.png)


–î–æ–±–∞–≤–ª—è–µ–º —Å–µ—Ä–≤–∏—Å frr –≤ –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫—É - systemctl enable ‚Äînow frr

![alt text](screens/image-40.png)

*–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç—ã –ø–∞–∫–µ—Ç–∞ - systemctl status

![alt text](screens/image-41.png)

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è frr

–í–∫–ª—é—á–∞–µ–º OSPF –∏ EIGRP

![alt text](screens/image-42.png)

–°—Ç–∞–≤–∏–º "yes" –Ω–∞–ø—Ä–æ—Ç–∏–≤ ospfd –∏ eigrpd - –° –ú–ê–õ–ï–ù–¨–ö–û–ô –ë–£–ö–í–´

![alt text](screens/image-43.png)

–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–∏—Å –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

![alt text](screens/image-44.png)

–ó–∞—Ö–æ–¥–∏–º –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª frr

![alt text](screens/image-45.png)

*—Ä–∞–±–æ—Ç–∞–µ–º –∫–∞–∫ –≤ –æ–±—ã—á–Ω–æ–π Cisco IOS

en - —Ä–µ–∂–∏–º –ø—Ä–æ—Å–º–æ—Ç—Ä–∞

conf t - —Ä–µ–∂–∏–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

router eigrp 1 - –æ–±—ä—è–≤–ª—è–µ–º –Ω–æ–≤—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏

network .......... - —Å–µ—Ç–∏ —Å–º–æ—Ç—Ä–∏–º –≤ —Å–∫—Ä–Ω–∞—Ö, –≥–¥–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è.

network ..........

#### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è frr –¥–ª—è ISP (–ü–ò–°–ê–¢–¨ –ù–ê –ò–°–ü–ï, HQ-RTR –ò BR-RTR)

![image](https://github.com/user-attachments/assets/e7294794-b7ba-4dcb-95de-0df15e7e0205)

#### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è frr –¥–ª—è HQ-RTR (10.10 –£–ë–ò–†–ê–¢–¨)

![image](https://github.com/user-attachments/assets/75c35f01-de94-4df7-88a2-98c5127f8172)

#### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è frr –¥–ª—è BR-RTR (10.10 –£–ë–ò–†–ê–¢–¨)

![image](https://github.com/user-attachments/assets/6bfd8858-2589-4fda-95c9-ff1fe667e0a2)

#### –î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ FRR

en

show ip eigrp topology - –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å "–≤–∏–¥–∏–º—ã–µ" —Å–µ—Ç–∏

![image](https://github.com/user-attachments/assets/a2eee370-b490-47af-9a05-36205dca2e23)

–î–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤–∏–¥–Ω–æ –≤—Å–µ —Å–µ—Ç–∏ —Å ISP, *–í–ê–ñ–ù–û, –°–ï–¢–ò –û–ë–ù–û–í–õ–Ø–Æ–¢–°–Ø –î–û 10 –ú–ò–ù–£–¢*

### –í–∫–ª—é—á–∞–µ–º IP Forwarding

mcedit /etc/net/sysctl.conf

–ü–∞—Ä–∞–º–µ—Ç—Ä net.ipv4.ip_forward=0 —Å—Ç–∞–≤–∏–º –Ω–∞ "1"

–ó–∞—Ç–µ–º –ø–∏—à–µ–º - sysctl -p

![alt text](screens/image-49.png)

–ó–∞—Ç–µ–º –ø–∏—à–µ–º –∫–æ–º–∞–Ω–¥—É

sysctl net.ipv4.ip_forward=1

## 3. –°–æ–∑–¥–∞–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω—ã—Ö —É—á–µ—Ç–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π

–°–æ–∑–¥–∞–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è sshuser –Ω–∞ —Å–µ—Ä–≤–µ—Ä–∞—Ö HQ-SRV –∏ BR-SRV –ü–∞—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è sshuser —Å –ø–∞—Ä–æ–ª–µ–º P@ssw0rd –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è 1010 –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å sshuser –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–ø—É—Å–∫–∞—Ç—å sudo –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏.

useradd - —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

–ö–ª—é—á–∏ –∫ –∫–æ–º–∞–Ω–¥–µ

![image](https://github.com/user-attachments/assets/cf060a75-3fcc-4262-94ae-e611fda0da30)

–°–æ–∑–¥–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ—è —Å UID 1010

![alt text](screens/image-50.png)

–ò–∑–º–µ–Ω—è–µ–º –ø–∞—Ä–æ–ª—å –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ (passwd sshuser)

![alt text](screens/image-51.png)

*–ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–∞–∫–∏–µ –≥—Ä—É–ø–ø—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –º–æ–≥—É—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è sudo –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

![alt text](screens/image-52.png)

–î–æ–±–∞–≤–ª—è–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è sshuser –≤ –≥—Ä—É–ø–ø—É

![alt text](screens/image-53.png)

–ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç—Å—è –≤ –¥–≤—É—Ö –≥—Ä—É–ø–ø–∞—Ö

![alt text](screens/image-54.png)

–î–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø—Ä–∞–≤–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤ sudo (root) –±–µ–∑ –≤–≤–æ–¥–∞ –ø–∞—Ä–æ–ª—è

![alt text](screens/image-55.png)

–£–±–∏—Ä–∞–µ–º –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å –¥–≤—É—Ö —Å—Ç—Ä–æ—á–µ–∫

WHEEL_USERS ALL=(ALL:ALL) ALL

WHEEL_USERS ALL=(ALL;ALL) NOPASSWD: ALL

![alt text](screens/image-56.png)

*–ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ—Å—Ç—É–ø –∫ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –±–µ–∑ –ø–∞—Ä–æ–ª—è –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é sshuser

![alt text](screens/image-57.png)

### –°–æ–∑–¥–∞–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è net_admin –Ω–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–∞—Ö HQ-RTR –∏ BR-RTR

–°–æ–∑–¥–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

![alt text](screens/image-58.png)

–ò–∑–º–µ–Ω—è–µ–º –ø–∞—Ä–æ–ª—å –Ω–∞ P@$$word

![alt text](screens/image-59.png)

–î–æ–±–∞–≤–ª—è–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –≥—Ä—É–ø–ø—É

![alt text](screens/image-60.png)

–ò–∑–º–µ–Ω—è–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–∞–≤

![alt text](screens/image-61.png)

–£–±–∏—Ä–∞–µ–º –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å –¥–≤—É—Ö —Å—Ç—Ä–æ—á–µ–∫

WHEEL_USERS ALL=(ALL:ALL) ALL

WHEEL_USERS ALL=(ALL;ALL) NOPASSWD: ALL

![alt text](screens/image-62.png)

## 4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –Ω–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ HQ-RTR –≤ —Å—Ç–æ—Ä–æ–Ω—É –æ—Ñ–∏—Å–∞ HQ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –∫–æ–º–º—É—Ç–∞—Ç–æ—Ä: (–ø–æ–∫–∞ –Ω–∞ –¥–æ—Ä–∞–±–æ—Ç–∫–µ, VLAN—ã –≤–∏–¥–∏—Ç, –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç, –Ω–æ –ø–∏–Ω–≥–∏ –Ω–µ –∏–¥—É—Ç) *–ú–û–ñ–ï–¢ –õ–£–ß–®–ï –ß–ï–†–ï–ó openvswitch

–î–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã. –°–æ–∑–¥–∞–µ–º –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –¥–ª—è –ø–æ–¥–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ .10 –∏ .20

![alt text](screens/image-72.png)

![alt text](screens/image-73.png)

–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º IP-–∞–¥—Ä–µ—Å –¥–ª—è –ø–æ–¥–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ .10

![alt text](screens/image-74.png)

![alt text](screens/image-75.png)

–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º —Ñ–∞–π–ª options –¥–ª—è –ø–æ–¥–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ .10

![alt text](screens/image-76.png)

–ü–æ –∑–∞–¥–∞–Ω–∏—é —Å–µ—Ä–≤–µ—Ä HQ-SRV –¥–æ–ª–∂–µ–Ω –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ ID VLAN 100

![alt text](screens/image-77.png)

–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º IP-–∞–¥—Ä–µ—Å –¥–ª—è –ø–æ–¥–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ .20

![alt text](screens/image-79.png)

–ü–æ –∑–∞–¥–∞–Ω–∏—é –∫–ª–∏–µ–Ω—Ç HQ-CLI –≤ ID VLAN 200 

![alt text](screens/image-80.png)

### –°–æ–∑–¥–∞–π—Ç–µ –ø–æ–¥—Å–µ—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å ID VLAN 999

![alt text](screens/image-81.png)

–°–∫–æ–ø–∏—Ä—É–µ–º —Ñ–∞–π–ª options –∏–∑ .10

![alt text](screens/image-82.png)

![alt text](screens/image-83.png)



## 5. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —É–¥–∞–ª–µ–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–∞—Ö HQ-SRV –∏ BR-SRV:

apt-get update - –æ–±–Ω–æ–≤–ª—è–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏

apt-get install openssh-server

![alt text](screens/image-63.png)

*–ü—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ, –º–æ–≥—É—Ç –≤–æ–∑–Ω–∏–∫–Ω—É—Ç—å –æ—à–∏–±–∫–∏ —Å —Ä–∞–±–æ—Ç–æ–π –ø–∞–∫–µ—Ç–∞, –≤ —Ç–∞–∫–æ–º —Å–ª—É—á–∞–µ –ø–∏—à–µ–º systemctl daemon-reload

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –ø–æ–≤—Ç–æ—Ä–Ω–æ –ø—Ä–æ–≤–æ–¥–∏–º –∫–æ–º–∞–Ω–¥—É —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–∞–∫–µ—Ç–∞

–î–æ–±–∞–≤–ª—è–µ–º —Å–µ—Ä–≤–∏—Å –≤ –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫—É systemctl enable ‚Äînow sshd

![alt text](screens/image-64.png)

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ–∞–π–ª–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ OpenSSH

![alt text](screens/image-65.png)

–û—Ç–∫—Ä—ã–≤–∞–µ–º —Ñ–∞–π–ª, –Ω–∞—Ö–æ–¥–∏–º –∞—Ç—Ä–∏–±—É—Ç #port 22 - –∏–∑–º–µ–Ω—è–µ–º –µ–≥–æ –Ω–∞ "port 2024" # - —É–±–∏—Ä–∞–µ–º

![alt text](screens/image-66.png)

##### –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫ –≤—Ö–æ–¥–∞ –¥–æ –¥–≤—É—Ö - –º–µ–Ω—è–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä —Å "6" –Ω–∞ "2"

![alt text](screens/image-67.png)

##### –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –±–∞–Ω–Ω–µ—Ä ¬´Authorized access only¬ª. –ù–∞—Ö–æ–¥–∏–º #no default banner path

–ò–∑–º–µ–Ω—è–µ–º —Å—Ç—Ä–æ—á–∫—É, –¥–æ–±–∞–≤–ª—è—è –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É —Å –¥–∞–Ω–Ω—ã–º–∏ –ø–æ –±–∞–Ω–Ω–µ—Ä—É

![alt text](screens/image-68.png)

–°–æ–∑–¥–∞–µ–º —Ñ–∞–π–ª —Å –±–∞–Ω–Ω–µ—Ä–æ–º

mcedit /etc/32admsbanner

–í –Ω–µ–≥–æ –ø—Ä–æ–ø–∏—Å—ã–≤–∞–µ–º –±–∞–Ω–Ω–µ—Ä –ø–æ –∑–∞–¥–∞–Ω–∏—é

![alt text](screens/image-69.png)

##### –†–∞–∑—Ä–µ—à–∏—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é sshuser

–î–æ–±–∞–≤–ª—è–µ–º —Å—Ç—Ä–æ—á–∫—É AllowUsers –∏ –ø–∏—à–µ–º –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –¥–æ—Å—Ç—É–ø–æ–º

![alt text](screens/image-70.png)

–ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º —Å–µ—Ä–≤–∏—Å systemctl restart sshd

*–ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–∞–±–æ—Ç—É —Å –¥—Ä—É–≥–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (HQ-RTR)

![alt text](screens/image-71.png)

## 6. –ú–µ–∂–¥—É –æ—Ñ–∏—Å–∞–º–∏ HQ –∏ BR –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞—Ç—å ip —Ç—É–Ω–Ω–µ–ª—å

## 7. –û–±–µ—Å–ø–µ—á—å—Ç–µ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫—É—é –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—é: —Ä–µ—Å—É—Ä—Å—ã –æ–¥–Ω–æ–≥–æ –æ—Ñ–∏—Å–∞ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã –∏–∑ –¥—Ä—É–≥–æ–≥–æ –æ—Ñ–∏—Å–∞. –î–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ link state –ø—Ä–æ—Ç–æ–∫–æ–ª –Ω–∞ –≤–∞—à–µ —É—Å–º–æ—Ç—Ä–µ–Ω–∏–µ

–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã —Å ISP –∏–¥–µ–Ω—Ç–∏—á–Ω–æ –Ω–∞ frr –Ω–∞ BR-RTR –∏ HQ-RTR

–í –∫–∞—á–µ—Å—Ç–≤–µ link state –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å OSPF –∏–ª–∏ EIGRP, –≤ –ø—Ä–∏–º–µ—Ä–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω –≤–∞—Ä–∏–∞–Ω—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —á–µ—Ä–µ–∑ –ø—Ä–æ—Ç–æ–∫–æ–ª EIGRP.

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤ –ø—É–Ω–∫—Ç–µ 2 - https://github.com/ItsLiventsev/NetSys_Demo_2025?tab=readme-ov-file#%D0%BA%D0%BE%D0%BD%D1%84%D0%B8%D0%B3%D1%83%D1%80%D0%B0%D1%86%D0%B8%D1%8F-frr

## 8. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π —Ç—Ä–∞–Ω—Å–ª—è—Ü–∏–∏ –∞–¥—Ä–µ—Å–æ–≤.

## 9. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Ö–æ—Å—Ç–æ–≤.

–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –Ω—É–∂–Ω—É—é –ø–æ–¥—Å–µ—Ç—å .–î–ª—è –æ—Ñ–∏—Å–∞ HQ –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Å–µ—Ä–≤–µ—Ä–∞ DHCP –≤—ã—Å—Ç—É–ø–∞–µ—Ç –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä HQ-RTR. –ö–ª–∏–µ–Ω—Ç–æ–º —è–≤–ª—è–µ—Ç—Å—è –º–∞—à–∏–Ω–∞ HQ-CLI. –ò—Å–∫–ª—é—á–∏—Ç–µ –∏–∑ –≤—ã–¥–∞—á–∏ –∞–¥—Ä–µ—Å –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–∞. –ê–¥—Ä–µ—Å —à–ª—é–∑–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ‚Äì –∞–¥—Ä–µ—Å –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–∞ HQ-RTR. –ê–¥—Ä–µ—Å DNS-—Å–µ—Ä–≤–µ—Ä–∞ –¥–ª—è –º–∞—à–∏–Ω—ã HQ-CLI ‚Äì –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞ HQ-SRV. DNS-—Å—É—Ñ—Ñ–∏–∫—Å –¥–ª—è –æ—Ñ–∏—Å–æ–≤ HQ ‚Äì au-team.irpo. –°–≤–µ–¥–µ–Ω–∏—è –æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ –∑–∞–Ω–µ—Å–∏—Ç–µ –≤ –æ—Ç—á—ë—Ç

DHCP ‚Äî —Å–µ—Ç–µ–≤–æ–π –ø—Ä–æ—Ç–æ–∫–æ–ª, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π —Å–µ—Ç–µ–≤—ã–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞—Ç—å IP-–∞–¥—Ä–µ—Å –∏ –¥—Ä—É–≥–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã –≤ —Å–µ—Ç–∏ TCP/IP.

–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø–∞–∫–µ—Ç dhcp-server

apt-get install dhcp-server

![alt text](screens/image-84.png)

–î–æ–±–∞–≤–ª—è–µ–º –≤ –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫—É

![alt text](screens/image-85.png)

–ö–æ–ø–∏—Ä—É–µ–º —Ñ–∞–π–ª example, —Å–æ–∑–¥–∞–µ–º "—á–∏—Å—Ç–æ–≤–∏–∫" dhcpd.conf - –æ–Ω –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤ –∫–∞—á–µ—Å–≤—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ç–æ—Ä–∞ DHCP —Å–µ—Ä–≤–µ—Ä–∞

![alt text](screens/image-86.png)

–û—Ç–∫—Ä—ã–≤–∞–µ–º –≤–Ω–æ–≤—å —Å–æ–∑–¥–∞–Ω–Ω—ã–π —Ñ–∞–π–ª

![alt text](screens/image-87.png)

–ü—Ä–æ–∏–∑–≤–æ–¥–∏–º –Ω–∞—Å—Ç—Ä–æ–π–∫—É*

![image](https://github.com/user-attachments/assets/26ab99eb-2523-4258-b6ce-1163c9c3d111)

*–ù–µ–∫–æ—Ç–æ—Ä—ã–µ –æ–±—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–µ—Ä–≤–µ—Ä–∞ DHCP:

subnet‚Äî –ü–∞—Ä–∞–º–µ—Ç—Ä –æ–±—ä—è–≤–ª—è–µ—Ç –ø–æ–¥—Å–µ—Ç—å (–≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ 192.168.38.0 —Å –º–∞—Å–∫–æ–π 255.255.255.0)

range  ‚Äì –î–∏–∞–ø–∞–∑–æ–Ω –≤—ã–¥–∞–≤–∞–µ–º—ã—Ö –∞–¥—Ä–µ—Å–æ–≤

option subnet-mask ‚Äì –ú–∞—Å–∫–∞ —Å–µ—Ç–∏.

option broadcast-address ‚Äì –®–∏—Ä–æ–∫–æ–≤–µ—â–∞—Ç–µ–ª—å–Ω—ã–π –∞–¥—Ä–µ—Å.

domain-name-servers ‚Äì –ê–¥—Ä–µ—Å–∞ —Å–µ—Ä–≤–µ—Ä–æ–≤ DNS.

option domain-name  ‚Äì –î–æ–º–µ–Ω–Ω–æ–µ –∏–º—è.

option routers ‚Äì –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç IP-–∞–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ —à–ª—é–∑–∞ –∏–ª–∏ —Ç–æ—á–∫–∏ –≤—ã—Ö–æ–¥–∞ –≤ —Å–µ—Ç—å.

–ß—Ç–æ–±—ã –∑–∞–¥–∞—Ç—å –≤—Ä–µ–º—è –∞—Ä–µ–Ω–¥—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –∞—Ä–µ–Ω–¥—ã

default-lease-time 600;

max-lease-time 7200;

–î–ª—è —Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏—è –∞–¥—Ä–µ—Å–∞ –¥–æ–±–∞–≤–ª—è–µ–º —Å—Ç—Ä–æ–∫–∏ "host"

host SERVER {
  hardware ethernet 08:60:6e:d6:5e:ff;
  fixed-address 192.168.38.5;}
}

–í—ã—Å—Ç–∞–≤–ª—è–µ–º —Å–µ—Ç–µ–≤–æ–π –∞–¥–∞–ø—Ç–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ —Ä–∞–∑–¥–∞—á—É DHCP

![alt text](screens/image-89.png)

–°–µ—Ç–µ–≤–æ–π –∞–¥–∞–ø—Ç–µ—Ä –≤ —Å—Ç–æ—Ä–æ–Ω—É —Å–µ—Ç–∏ HQ-NET

![alt text](screens/image-90.png)

*–ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞ CLI

IP-–∞–¥—Ä–µ—Å –±—ã–ª –ø–æ–ª—É—á–µ–Ω –ø–æ DHCP —Å —Å–µ—Ä–≤–µ—Ä–∞

![alt text](screens/image-91.png)

## 10. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ DNS –¥–ª—è –æ—Ñ–∏—Å–æ–≤ HQ –∏ BR.

## 11. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å –Ω–∞ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö, —Å–æ–≥–ª–∞—Å–Ω–æ –º–µ—Å—Ç—É –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è —ç–∫–∑–∞–º–µ–Ω–∞.

–ü–æ –∑–∞–¥–∞–Ω–∏—é –ø—Ä–æ—Å—è—Ç —Ç–æ–ª—å–∫–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å –Ω–∞ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö, –º–µ–Ω—è—Ç—å –≤—Ä–µ–º—è –ø—Ä–∏ —ç—Ç–æ–º –Ω–µ –ø—Ä–æ—Å—è—Ç. –ü–æ—ç—Ç–æ–º—É –º–µ–Ω—è–µ–º –ø–æ—è—Å —Å–æ–≥–ª–∞—Å–Ω–æ –º–µ—Å—Ç—É –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è —ç–∫–∑–∞–º–µ–Ω–∞ - Europe/Moscow

![image](https://github.com/user-attachments/assets/1716034c-a527-4c8c-b3b9-7b1f2446a365)

*–µ—Å–ª–∏ –≤ –∑–∞–¥–∞–Ω–∏–∏ –ø–æ–º–µ–Ω—è—é—Ç —Ä–µ–≥–∏–æ–Ω –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π, —Ç–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–ø–∏—Å–æ–∫ —Ä–µ–≥–∏–æ–Ω–æ–≤ –∏ –≥–æ—Ä–æ–¥–æ–≤ –º–æ–∂–Ω–æ —Ç—É—Ç

![image](https://github.com/user-attachments/assets/3f910af8-f188-4899-9145-aa9b6a8cbffa)

#### –ü—Ä–∏–º–µ—Ä –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–∞–±–ª–∏—Ü—ã –∞–¥—Ä–µ—Å–æ–≤ —É—Å—Ç—Ä–æ–π—Å—Ç–≤

![alt text](screens/image-4.png)

# –ú–æ–¥—É–ª—å 2 "–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Å–µ—Ç–µ–≤–æ–≥–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º"

## 1. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –¥–æ–º–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä Samba –Ω–∞ –º–∞—à–∏–Ω–µ BR-SRV. –°–æ–∑–¥–∞–π—Ç–µ 5 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –¥–ª—è –æ—Ñ–∏—Å–∞ HQ: –∏–º–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Ñ–æ—Ä–º–∞—Ç–∞ user‚Ññ.hq. –°–æ–∑–¥–∞–π—Ç–µ –≥—Ä—É–ø–ø—É hq, –≤–≤–µ–¥–∏—Ç–µ –≤ —ç—Ç—É –≥—Ä—É–ø–ø—É —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π. –í–≤–µ–¥–∏—Ç–µ –≤ –¥–æ–º–µ–Ω –º–∞—à–∏–Ω—É HQ-CLI. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≥—Ä—É–ø–ø—ã hq –∏–º–µ—é—Ç –ø—Ä–∞–≤–æ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–º –ü–ö. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≥—Ä—É–ø–ø—ã hq –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–≤—ã—à–∞—Ç—å –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–≥–æ –Ω–∞–±–æ—Ä–∞ –∫–æ–º–∞–Ω–¥: cat, grep, id. –ó–∞–ø—É—Å–∫–∞—Ç—å –¥—Ä—É–≥–∏–µ –∫–æ–º–∞–Ω–¥—ã —Å –ø–æ–≤—ã—à–µ–Ω–Ω—ã–º–∏ –ø—Ä–∏–≤–∏–ª–µ–≥–∏—è–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≥—Ä—É–ø–ø—ã –Ω–µ –∏–º–µ—é—Ç –ø—Ä–∞–≤–∞. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∏–º–ø–æ—Ä—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–∑ —Ñ–∞–π–ª–∞ users.csv. –§–∞–π–ª –±—É–¥–µ—Ç —Ä–∞—Å–ø–æ–ª–∞–≥–∞—Ç—å—Å—è –Ω–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ BR-SRV –≤ –ø–∞–ø–∫–µ /opt (–î–û–õ–ì–û –ò –ù–£–î–ù–û, –ü–õ–Æ–° –í–´ –ù–ò–ö–û–ì–î–ê –ù–ï –£–°–ü–ï–í–ê–ï–¢–ï, –ü–û–≠–¢–û–ú–£ –ü–û–ö–ê –ü–†–û–ü–£–°–ö–ê–ú)

## 2. –°–∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª–æ–≤–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ: ‚Ä¢ –ü—Ä–∏ –ø–æ–º–æ—â–∏ —Ç—Ä—ë—Ö –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∏—Å–∫–æ–≤, —Ä–∞–∑–º–µ—Ä–æ–º 1–ì–± –∫–∞–∂–¥—ã–π, –Ω–∞ HQ-SRV —Å–∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–π—Ç–µ –¥–∏—Å–∫–æ–≤—ã–π –º–∞—Å—Å–∏–≤ —É—Ä–æ–≤–Ω—è 5 ‚Ä¢ –ò–º—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ ‚Äì md0, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –º–∞—Å—Å–∏–≤–∞ —Ä–∞–∑–º–µ—â–∞–µ—Ç—Å—è –≤ —Ñ–∞–π–ª–µ /etc/mdadm.conf ‚Ä¢ –û–±–µ—Å–ø–µ—á—å—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –ø–∞–ø–∫—É /raid5 ‚Ä¢ –°–æ–∑–¥–∞–π—Ç–µ —Ä–∞–∑–¥–µ–ª, –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–π—Ç–µ —Ä–∞–∑–¥–µ–ª, –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ ext4

### –î–æ–±–∞–≤–ª—è–µ–º –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –∂–µ—Å—Ç–∫–∏–µ –¥–∏—Å–∫–∏ –≤ –í–ú HQ-SRV

–û—Ç–∫—Ä—ã–≤–∞–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –í–ú –∏ –¥–æ–±–∞–≤–ª—è–µ–º —Ç—Ä–∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –¥–∏—Å–∫–∞ –ø–æ 1 –≥–± –∫–∞–∂–¥—ã–π

![–°–Ω–∏–º–æ–∫ —ç–∫—Ä–∞–Ω–∞ 2024-09-10 152915](https://github.com/user-attachments/assets/90d9569a-00b4-4141-a10b-f456ff293df2)

![–°–Ω–∏–º–æ–∫ —ç–∫—Ä–∞–Ω–∞ 2024-09-10 152942](https://github.com/user-attachments/assets/41a60f8b-212d-4b13-bb42-6b50116b58c5)

![–°–Ω–∏–º–æ–∫ —ç–∫—Ä–∞–Ω–∞ 2024-09-10 153000](https://github.com/user-attachments/assets/21d34806-3e6f-4794-bcb4-4502359c1c17)

### –†–∞–±–æ—Ç–∞ —Å parted

*–Ω–∞–∑–≤–∞–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–æ–≤ –∏ –Ω–∞–∑–≤–∞–Ω–∏–µ –¥–∏—Å–∫–æ–≤ –º–æ–∂–µ—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è

–î–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∏—Å–∫–∞–º–∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º —É—Ç–∏–ª–∏—Ç—É - parted

![–°–Ω–∏–º–æ–∫ —ç–∫—Ä–∞–Ω–∞ 2024-09-10 153207](https://github.com/user-attachments/assets/28c07a21-2c43-4487-ae93-f9fccf689654)

–ß—Ç–æ–±—ã –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å "—Ñ–∏–∑–∏—á–µ—Å–∫–∏–µ" (–≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ) –¥–∏—Å–∫–∏ –ø–∏—à–µ–º print devices

![–°–Ω–∏–º–æ–∫ —ç–∫—Ä–∞–Ω–∞ 2024-09-10 153258](https://github.com/user-attachments/assets/686e0724-23e4-44e6-95ff-691dcf86cf2c)

–î–ò–°–ö /dev/sda –ù–ï –¢–†–û–ì–ê–¢–¨ - –≠–¢–û –î–ò–°–ö –° –û–ü–ï–†–ê–¶–ò–û–ù–ù–û–ô –°–ò–°–¢–ï–ú–û–ô

–î–∏—Å–∫–∏ sdb, sdc, sdd - –Ω–∞—à–∏ –≤–Ω–æ–≤—å —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –¥–∏—Å–∫–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è RAID 5

#### *–ù–µ–º–Ω–æ–≥–æ —Ç–µ–æ—Ä–∏–∏ –ø–æ parted

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –¥–∏—Å–∫, —Ç–æ –µ–≥–æ —Å–Ω–∞—á–∞–ª–∞ –Ω–∞–¥–æ –≤—ã–±—Ä–∞—Ç—å - select *–¥–∏—Å–∫*

![–°–Ω–∏–º–æ–∫ —ç–∫—Ä–∞–Ω–∞ 2024-09-10 153417](https://github.com/user-attachments/assets/4f8955ed-a919-4f4e-b65f-1fd588cdad78)

–î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü—ã —Ä–∞–∑–¥–µ–ª–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–æ–º–∞–Ω–¥–∞ mktable *—Ç–∏–ø —Ç–∞–±–ª–∏—Ü—ã*

![–°–Ω–∏–º–æ–∫ —ç–∫—Ä–∞–Ω–∞ 2024-09-10 154245](https://github.com/user-attachments/assets/8d1a8e21-8a53-4ee3-a50f-5dfa676d0c08)

–î–ª—è –≤—ã–≤–æ–¥–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ø–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–º—É –¥–∏—Å–∫—É - –ø–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –¥–∏—Å–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É - print

–î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞ (–ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ –¥–∏—Å–∫–∞) –∏—Å–ø–æ–ª—å–∑—É–µ–º –∫–æ–º–∞–Ω–¥—É mkpart (–≤ –∞—Ç—Ä–∏–±—É—Ç–∞—Ö –º–æ–∂–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å —Ä–∞–∑–º–µ—Ä—ã –≤ –±–∏—Ç–∞—Ö, –º–± –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ—Ü–µ–Ω—Ç—ã

![–°–Ω–∏–º–æ–∫ —ç–∫—Ä–∞–Ω–∞ 2024-09-10 154250](https://github.com/user-attachments/assets/56e972fb-a83b-4e70-849d-1f77f6ee3178)

### –†–∞–±–æ—Ç–∞ —Å –ø—Ä–æ–≥—Ä–∞–º–º–Ω—ã–º –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–º RAID. –°–æ–∑–¥–∞–Ω–∏–µ RAID 5

*–Ω–∞–∑–≤–∞–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–æ–≤ –∏ –Ω–∞–∑–≤–∞–Ω–∏–µ –¥–∏—Å–∫–æ–≤ –º–æ–∂–µ—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è

–î–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ RAID –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —É—Ç–∏–ª–∏—Ç–∞ mdadm

–î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è RAID –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å–ª–µ–¥—É—é—â—É—é –∫–æ–º–∞–Ω–¥—É:

mdadm --create --level=5 --raid-devices=3 /dev/md/md0 /dev/sdb /dev/sdc /dev/sdd

![–°–Ω–∏–º–æ–∫ —ç–∫—Ä–∞–Ω–∞ 2024-09-10 155202](https://github.com/user-attachments/assets/2c4d1055-8c9d-462e-8997-6ead109482e0)

–≥–¥–µ:

--create - —Å–æ–∑–¥–∞—Ç—å

--verbose - –≤—ã–≤–æ–¥–∏—Ç—å –ø–æ–¥—Ä–æ–±–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —É—Ç–∏–ª–∏—Ç—ã mdadm

/dev/md/md0 ‚Äî –∏–º—è –±–ª–æ—á–Ω–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ RAID, –∫–æ—Ç–æ—Ä–æ–µ –ø–æ—è–≤–∏—Ç—Å—è –ø–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏ –º–∞—Å—Å–∏–≤–∞

--level=5 ‚Äî —É—Ä–æ–≤–µ–Ω—å RAID –º–∞—Å—Å–∏–≤–∞ (1,2,5,10)

--raid-devices=3 ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–∏—Å–∫–æ–≤, –≤–∫–ª—é—á–∞–µ–º—ã—Ö –≤ –º–∞—Å—Å–∏–≤

/dev/sdb /dev/sdc /dev/sdd ‚Äî –∏–º–µ–Ω–∞ –¥–∏—Å–∫–æ–≤, –≤–∫–ª—é—á–∞–µ–º—ã—Ö –≤ –º–∞—Å—Å–∏–≤

### –û—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–π—Ç–µ —Ä–∞–∑–¥–µ–ª, –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ ext4

*–Ω–∞–∑–≤–∞–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–æ–≤ –∏ –Ω–∞–∑–≤–∞–Ω–∏–µ –¥–∏—Å–∫–æ–≤ –º–æ–∂–µ—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è

![–°–Ω–∏–º–æ–∫ —ç–∫—Ä–∞–Ω–∞ 2024-09-10 160209](https://github.com/user-attachments/assets/633646be-2b7b-4b8d-97f7-3af1189760c8)

### –û–±–µ—Å–ø–µ—á—å—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –ø–∞–ø–∫—É /raid5

–î–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤ —Å–∏—Å—Ç–µ–º—É - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ñ–∞–π–ª /etc/fstab

![–°–Ω–∏–º–æ–∫ —ç–∫—Ä–∞–Ω–∞ 2024-09-11 083726](https://github.com/user-attachments/assets/4e364cd9-661f-4516-9654-f83bba78db72)

–í —Ñ–∞–π–ª–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å, –≤ –∫–æ—Ç–æ—Ä–æ–º —É–∫–∞–∑–∞—Ç—å –∞—Ç—Ä–∏–±—É—Ç—ã –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

![image](https://github.com/user-attachments/assets/703926cb-e3b8-4aa3-a999-b06b15288817)

–≥–¥–µ:

* filesystem. –§–∏–∑–∏—á–µ—Å–∫–æ–µ –º–µ—Å—Ç–æ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã, –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ä–∞–∑–¥–µ–ª –∏–ª–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–ª—è –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è. 

* dir. –¢–æ—á–∫–∞ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –∫—É–¥–∞ –º–æ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è –∫–æ—Ä–µ–Ω—å —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã. 
*type.  –¢–∏–ø —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Ç–∏–ø–æ–≤. 

*options.  –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã. 

*dump.  –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —É—Ç–∏–ª–∏—Ç–æ–π dump –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–æ–≥–æ, –Ω—É–∂–Ω–æ –ª–∏ —Å–æ–∑–¥–∞—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é –¥–∞–Ω–Ω—ã—Ö –≤ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ. –í–æ–∑–º–æ–∂–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è: 0 –∏–ª–∏ 1. 

*pass. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–æ–≥—Ä–∞–º–º–æ–π fsck –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–æ–≥–æ, –Ω—É–∂–Ω–æ –ª–∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã. –í–æ–∑–º–æ–∂–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è: 0, 1 –∏–ª–∏ 2. 

### –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Å–µ—Ä–≤–µ—Ä —Å–µ—Ç–µ–≤–æ–π —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã(nfs), –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–∞–ø–∫–∏ –æ–±—â–µ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –≤—ã–±–µ—Ä–∏—Ç–µ /raid5/nfs, –¥–æ—Å—Ç—É–ø –¥–ª—è —á—Ç–µ–Ω–∏—è –∏ –∑–∞–ø–∏—Å–∏ –¥–ª—è –≤—Å–µ–π —Å–µ—Ç–∏ –≤ —Å—Ç–æ—Ä–æ–Ω—É HQ-CLI

–û–±–Ω–æ–≤–ª—è–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏, —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø–∞–∫–µ—Ç nfs-server

![–°–Ω–∏–º–æ–∫ —ç–∫—Ä–∞–Ω–∞ 2024-09-12 115050](https://github.com/user-attachments/assets/7f818660-51a4-467b-8a4a-b1ed81162eb6)

![–°–Ω–∏–º–æ–∫ —ç–∫—Ä–∞–Ω–∞ 2024-09-12 115103](https://github.com/user-attachments/assets/4ad9d7c7-0df5-4011-9d46-2fa16b09144d)

–î–æ–±–∞–≤–ª—è–µ–º nfs-server –≤ –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫—É

![–°–Ω–∏–º–æ–∫ —ç–∫—Ä–∞–Ω–∞ 2024-09-12 115449](https://github.com/user-attachments/assets/20bf36f4-96a7-4c26-876f-ef7e01c2708a)

–°–æ–∑–¥–∞–µ–º –ø–∞–ø–∫—É nfs –Ω–∞ –Ω–∞—à–µ–º RAID-–º–∞—Å—Å–∏–≤–µ (–æ–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, RAID –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –≤ –ø–∞–ø–∫—É /raid5)

![–°–Ω–∏–º–æ–∫ —ç–∫—Ä–∞–Ω–∞ 2024-09-12 115551](https://github.com/user-attachments/assets/7e2b05f6-56a8-4ac1-ad78-e960a0a526f3)

–ü—Ä–æ–∏–∑–≤–æ–¥–∏–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é NFS

![–°–Ω–∏–º–æ–∫ —ç–∫—Ä–∞–Ω–∞ 2024-09-12 115657](https://github.com/user-attachments/assets/b7b967ae-e26b-4c6f-a9a3-28e9ce0b9551)

/raid5/nfs 192.168.1.0/29(rw,subtree_check,no_root_squash)

![ERj4Y6QDhV7K4vzp_xL1Vd5bIO0CVOHA2xPGtlBebca6K4vcnYSk1iSRrlrMKUeMJYqx_4YNvOU7QPzCqpi3ljQv (1)](https://github.com/user-attachments/assets/bf07304b-9017-4610-bf6a-94dc4baf14ed)

#### –ù–∞ HQ-CLI –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –ø–∞–ø–∫—É /mnt/nfs (*–î–û–î–ï–õ–ê–¢–¨ –ú–û–ù–¢–ò–†–û–í–ê–ù–ò–ï)

*–ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–ª—è —Ç–µ—Å—Ç–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞–ø–∫–∏ –≤–æ–æ–±—â–µ

![lNcnwbXPl-m2m4ITkMe409lXfTmYDOSyF1yBuT8CqKPHi5ZbFdlNU0PpUgxlphwrjBunFOHBN2V_ziWzF3B_kllH](https://github.com/user-attachments/assets/ce0a375a-90ca-4ed7-b6ef-ded79112d998)

–ü—Ä–æ–±—É–µ–º —Å–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª–∏–∫

![image](https://github.com/user-attachments/assets/1d5cf5c5-9f99-4a30-9ac6-46ddb80efded)

–í–∏–¥–∏–º, —á—Ç–æ —Ñ–∞–π–ª–∏–∫ –µ—Å—Ç—å

![image](https://github.com/user-attachments/assets/e6157fdb-eb13-4f71-88dc-be5fe0b7c01e)

–î–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º fstab (*–î–û–î–ï–õ–ê–¢–¨ –ú–û–ù–¢–ò–†–û–í–ê–ù–ò–ï)

–î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å

![image](https://github.com/user-attachments/assets/04776eb5-5c7f-4c5a-9fd2-f7ece6a606dd)

–ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏, –∞–≤—Ç–æ–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
##### –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–µ—Ä–≤–µ—Ä–∞ –æ—Ç–º–µ—Ç—å—Ç–µ –≤ –æ—Ç—á—ë—Ç–µ

### 5. –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –≤ Docker –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ BR-SRV. (–≤–∑—è—Ç–æ —É @abdurrah1mü•≤)

‚Ä¢ –°–æ–∑–¥–∞–π—Ç–µ –≤ –¥–æ–º–∞—à–Ω–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Ñ–∞–π–ª wiki.yml –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è MediaWiki.
‚Ä¢ –°—Ä–µ–¥—Å—Ç–≤–∞–º–∏ docker compose –¥–æ–ª–∂–µ–Ω —Å–æ–∑–¥–∞–≤–∞—Ç—å—Å—è —Å—Ç–µ–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º MediaWiki –∏ –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö.
‚Ä¢ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–≤–∞ —Å–µ—Ä–≤–∏—Å–∞
‚Ä¢ –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä MediaWiki –¥–æ–ª–∂–µ–Ω –Ω–∞–∑—ã–≤–∞—Ç—å—Å—è wiki –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—Ä–∞–∑ mediawiki
‚Ä¢ –§–∞–π–ª LocalSettings.php —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –¥–æ–ª–∂–µ–Ω –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –¥–æ–º–∞—à–Ω–µ–π –ø–∞–ø–∫–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤ –æ–±—Ä–∞–∑.
‚Ä¢ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö –¥–æ–ª–∂–µ–Ω –Ω–∞–∑—ã–≤–∞—Ç—å—Å—è mariadb –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—Ä–∞–∑ mariadb.
‚Ä¢ –†–∞–∑–≤–µ—Ä–Ω–∏—Ç–µ
‚Ä¢ –û–Ω –¥–æ–ª–∂–µ–Ω —Å–æ–∑–¥–∞–≤–∞—Ç—å –±–∞–∑—É —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º mediawiki, –¥–æ—Å—Ç—É–ø–Ω—É—é –ø–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º—É –ø–æ—Ä—Ç—É, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è wiki —Å –ø–∞—Ä–æ–ª–µ–º WikiP@ssw0rd –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —ç—Ç–æ–π –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
‚Ä¢ MediaWiki –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–Ω–∞ –∏–∑–≤–Ω–µ —á–µ—Ä–µ–∑ –ø–æ—Ä—Ç 8080.

–£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker –∏ Docker-compose:
```
apt-get update && apt-get install -y docker-engine
apt-get install -y docker-compose
```
–ê–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∞ `Docker`:
```
systemctl enable --now docker
```
–ü—Ä–∏–≤—è–∑–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∫ `Docker`:
```
usermod user -aG docker
```
–ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ –¥–æ–º–∞—à–Ω–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
```
cd /home/user
```
–°–æ–∑–¥–∞—ë–º —Ñ–∞–π–ª wiki.yml:
```
touch wiki.yml
```
```yml
version: '3'
services:
  wiki:
    image: mediawiki
    restart: always
    ports:
      - 8080:80
    links:
      - database
    container_name: wiki
    volumes:
      - images:/var/www/html/images
# –°–Ω–∞—á–∞–ª–∞ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤—Ä—É—á–Ω—É—é –¥–æ –∫–æ–Ω—Ü–∞, –ø–æ—Ç–æ–º —É–±–∏—Ä–∞–µ–º –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
#      - ./LocalSettings.php:/var/www/html/LocalSettings.php
  database:
    image: mariadb
    container_name: mariadb
    restart: always
    environment:
      MYSQL_DATABASE: mediawiki
      MYSQL_USER: wiki
      MYSQL_PASSWORD: WikiP@ssw0rd
      MYSQL_RANDOM_ROOT_PASSWORD: 'yes'
      TZ: Asia/Yekaterinburg
    volumes:
      - db:/var/lib/mysql
volumes:
  images:
  db:
```
–ó–∞–ø—É—Å–∫–∞–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:
```
docker compose -f wiki.yml up -d
```
–ü–µ—Ä–µ—Ö–æ–¥–∏–º –ø–æ `<ip-—Å–µ—Ä–≤–µ—Ä–∞>:8080` –∏ –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è - 'Please set up the wiki first'

![image](https://github.com/user-attachments/assets/7f31fa74-9b7d-448b-b151-60fea4101b68)

–î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å —Ö–æ—Å—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:
```
docker exec -it mariadb bash
```
```
hostname -i
```
–í—ã–≤–æ–¥
```
172.18.0.2
```

![image](https://github.com/user-attachments/assets/fad6ff4f-29a2-42ce-9895-7bc551386a0b)

–ü—Ä–∏–Ω–∏–º–∞–µ–º —É—Å–ª–æ–≤–∏—è `–î–∞–ª–µ–µ`

![image](https://github.com/user-attachments/assets/d5a8a841-be14-4e63-a779-bbdcda6ff6ea)

![image](https://github.com/user-attachments/assets/b1b2d5ab-a628-4e0f-9129-21e50a2bc2b2)

![image](https://github.com/user-attachments/assets/d82f8c7c-ba3a-446d-b1e2-3b58328f8fee)

![image](https://github.com/user-attachments/assets/c68ab5ec-5082-4912-a008-85ad0d5ed584)

![image](https://github.com/user-attachments/assets/0d147398-8dea-4c79-a73d-3dceb421d349)

![image](https://github.com/user-attachments/assets/f5546510-c41f-46e0-a73f-893596047481)

![image](https://github.com/user-attachments/assets/04b4e49e-5bba-4cb3-9f66-40bf299be64e)

![image](https://github.com/user-attachments/assets/7ebd8118-bd70-4a41-9b82-b5a52ae04a67)


# –ú–æ–¥—É–ª—å 3 "–≠–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ —Å–µ—Ç–µ–≤–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã"

## –ú–æ–¥—É–ª—å 4 "–í–∞—Ä–∏–∞—Ç–∏–≤–Ω–∞—è —á–∞—Å—Ç—å" (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)

# –î–∞–Ω–Ω—ã–µ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∞—Ü–∏–∏ –≤ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –º–∞—à–∏–Ω–∞—Ö —Å—Ç–µ–Ω–¥–∞

| –¢–∏–ø –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã | –õ–æ–≥–∏–Ω      |  –ü–∞—Ä–æ–ª—å         |
| :---------------------:  | :--------: | :-------------: | 
| Eltex                    | admin      | P@ssw0rd        | 
| ALT_SRV                  | root       | P@ssw0rd        | 
| ALT_CLI                  | user       | P@ssw0rd        | 
| ASTRA_CLI                | root       | P@ssw0rd        |
